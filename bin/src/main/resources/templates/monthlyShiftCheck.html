<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Cache-Control" content="no-cache">
  <meta http-equiv="Expires" content="Thu, 01 Dec 1994 16:00:00 GMT">
  <title>月別シフト確認画面</title>
  <link rel="stylesheet" media="all" th:href="@{/css/common.css}" />
  <script type="text/javascript" th:src="@{/js/common.js}"></script>
  <script type="text/javascript" th:src="@{/js/message.js}"></script>
  <style>
    .weekday {
      color: black;
    }

    .saturday {
      color: blue;
    }

    .sunday {
      color: red;
    }
  </style>
</head>

<body>
  <div id="wrapper">
    <div id="header">
      <table class="full-width">
        <tr height="22px">
          <td id="headLeft">
            <form action="/kikin/menu" method="post">
              <input value="戻る" type="submit" class="smallButton" />
            </form>
          </td>
          <td id="headCenter">
            月別シフト確認
          </td>
          <td id="headRight">
            <input value="ログアウト" type="button" class="smallButton" onclick="logout()" />
          </td>
        </tr>
      </table>
    </div>

    <div id="businessBody">
      <form id="searchForm" action="/kikin/monthlyShiftCheck/search" method="post" th:object="${MonthlyShiftCheckForm}">
        <div id="resize" class="full-width" style="margin-left:9%;">
          <div style="float: left; width: 804px; text-align: left; margin-left:13%;">
            <label>表示年月：</label>
            <select th:name="yearMonth" id="yearMonth" style="color: black;">
              <option th:each="yearMonth : ${yearMonthValues}" th:value="${yearMonth}"
                th:selected="${yearMonth} == *{yearMonth}" th:inline="text">[[${yearMonth}]]</option>
            </select>
            <button type="submit" value="search">検索</button>

            <table class="widthTable">
              <tr height="22px">
                <td width="150px" valign="top">
                  <table class="tableHeader">
                    <tr height="22px">
                      <td style="width: 150px; text-align: center;">
                        &nbsp;
                      </td>
                    </tr>
                    <tr height="22px">
                      <td style="width: 150px; text-align: center;">
                        社員名
                      </td>
                    </tr>
                    <tr th:each="shift : ${monthlyShiftCheckForm.monthlyShiftCheckBeanList}" class="tableBody">
                      <td style="width: 150px; text-align: center;">
                        <span th:text="${shift.employeeName}"></span><br>
                      </td>
                    </tr>
                  </table>
                </td>


                <td valign="top">
                  <div style="overflow-x: auto;overflow-y: hidden; width:985px; height: auto; text-align:center;">
                    <table class="tableHeader">
                      <tr height="22px">
                        <!-- 日付を横に並べる -->
                        <td th:each="dateBean : ${monthlyShiftCheckForm.dateBeanList}" style="width: 40px; text-align: center;"
                          th:text="${dateBeanStat.count}"></td>
                      </tr>
                      <tr height="22px">
                        <!-- 曜日を横に並べる -->
                        <td th:each="dateBean : ${monthlyShiftCheckForm.dateBeanList}" style="width: 40px; text-align: center;"
                          th:text="${dateBean.weekDay}"
                          th:class="${dateBean.weekDay.equals('土') ? 'fontBlue' : (dateBean.weekDay.equals('日') or dateBean.publicHolidayFlg) ? 'fontRed' : 'fontBlack'}">
                        </td>
                      </tr>
                      <tr th:each="monthlyShiftCheckBean : ${monthlyShiftCheckForm.monthlyShiftCheckBeanList}"
                        height="24px" class="tableBody">
                        <!-- 各 monthlyShiftCheckBean ごとに一行として表示 -->
                        <td th:each="i : ${#numbers.sequence(1, dateBeanList.size())}" style="width: 40px; text-align: center;"
                          valign="middle">
                          <!-- symbol01, symbol02, ... を動的に表示 -->
                          <span th:text="${monthlyShiftCheckBean['symbol' + (i < 10 ? '0' + i : i)]}"></span>
                        </td>
                      </tr>
                    </table>
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </form>
    </div>


  <div id="footer">
    <table>
      <tr height="22px">
        <td id="footLeft">
          <input value="凡例表示" type="button" class="longButton" onclick="openWindow()" />
          <form id="excelForm" action="/kikin/monthlyShiftCheck/print" method="post" th:object="${MonthlyShiftCheckForm}">
            <input id="yearMonth" type="hidden" th:field="*{yearMonth}" th:value="${yearMonth}">
            <input type="submit" class="smallButton" id="btn_excel" value="印刷">
          </form>
        </td>
        <td id="footCenter" style="text-align: right;">
        </td>
        <td id="footRight">
        </td>
      </tr>
    </table>
  </div>
</body>

</html>

