<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Expires" content="Thu, 01 Dec 1994 16:00:00 GMT">
    <title>基本登録画面</title>
    <link rel="stylesheet" media="all" th:href="@{/css/common.css}" />
    <script type="text/javascript" th:src="@{/js/common.js}"></script>
    <script type="text/javascript" th:src="@{/js/message.js}"></script>
</head>
<style>
#businessBody {
  display: flex;
  justify-content: center;
}
#businessBody .tableWrapper {
  text-align: Right;   /* 中身は右寄せ */
}
.tableFooter {
  margin-top: 8px;         /* テーブルとの間隔 */
}

</style>


<body>
    <div id="wrapper">
        <div id="header">
            <table class="full-width">
                <tr>
                    <td id="headLeft">
                    </td>
                    <td id="headCenter">
                        基本シフト登録
                    </td>
                    <td id="headRight">
                        <!-- <input value="ログアウト" type="button" class="smallButton" onclick="logout()" /> 変更　長谷川-->
                        <div th:insert="menu-fragment :: hamburgerMenu"></div>
                    </td>
                </tr>
            </table>
        </div>
        <div id="businessBody">
        <div class="tableWrapper">
            <div class="centered-container">
                <div id="pattern" style="width:max-content; margin-left:80px; float:left">
                    <div>
                        <table class="tableHeader">
                            <tr>
                                <td width="100px" align="center">
                                    シフト名
                                </td>
                                <td width="150px" align="center">
                                    シンボル
                                </td>
                                <td width="150px" align="center">
                                    時間
                                </td>
                                <td width="50px" align="center">
                                    休憩
                                </td>
                            </tr>
                        </table>
                    </div>

                    <div style="height:450px;overflow:auto">
                        <table class="tableBody">
                            <tbody>
                                <tr th:each="baseShiftPatternBean : ${baseShiftPatternBeanList}"> <!-- baseShiftPatternBeanからbaseShiftPatternBeanListへ修正  -->
                                    <td th:text="${baseShiftPatternBean.shiftName}"
                                        style="width: 100px; text-align: center;">
                                    </td>
                                    <td th:text="${baseShiftPatternBean.symbol}"
                                        style="width: 150px; text-align: center;">
                                    </td>
                                    <td th:utext="${baseShiftPatternBean.timeZone}"
                                        style="width: 150px; text-align: center;">
                                    </td>
                                    <td th:text="${baseShiftPatternBean.breakTime}"
                                        style="width: 50px; text-align: center;">
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                    </div>
                </div>
                <div id="data" style="width: max-content; margin-left:20px;float:left ">
                        <table class="tableHeader">
                            <tr>
                                <td width="230px" align="center">
                                    社員名
                                </td>
                                <td width="50px" align="center">
                                    月
                                </td>
                                <td width="50px" align="center">
                                    火
                                </td>
                                <td width="50px" align="center">
                                    水
                                </td>
                                <td width="50px" align="center">
                                    木
                                </td>
                                <td width="50px" align="center">
                                    金
                                </td>
                                <td width="50px" align="center">
                                    土
                                </td>
                                <td width="50px" align="center">
                                    日
                                </td>
                            </tr>
                        </table>
                    <div style="height:450px; width: max-content;overflow-y: scroll; scrollbar-gutter: stable;">
                            <form id="registForm" class="baseShiftMstMntForm" action="/kikin/baseShiftInput/regist"
                                method="post" th:object="${baseShiftMstMntForm}">
                        <table class="tableBody">
                                <th:block
                                    th:each="employee, employeeStat : ${baseShiftMstMntForm.baseShiftMstMntBeanList}">
                                    <tr>
                                        <!-- employeeId を隠しフィールドとして送信 -->
                                        <td width="230px" align="center">
                                        <input type="hidden"
                                            th:field="*{baseShiftMstMntBeanList[__${employeeStat.index}__].employeeId}" />
                                            <span th:text="${employee.employeeName}"></span>
                                        </td>
									
                                        <!-- 月曜日のシフト -->
                                        <td width="50px" align="center">
                                            <select
                                                th:field="*{baseShiftMstMntBeanList[__${employeeStat.index}__].shiftIdOnMonday}"style="width: 75%; height: 20px; margin-bottom: 3px;"> <!-- selectボックスレイアウト変更　瀬口 -->
                                                <option th:each="entry : ${baseShiftMstMntForm.shiftCmbMap}"
                                                    th:value="${entry.key}"
                                                    th:selected="${employee.shiftIdOnMonday == entry.key}"
                                                    th:text="${entry.value}">
                                                </option>
                                            </select>
                                        </td>

                                        <!-- 火曜日のシフト -->
                                        <td width="50px" align="center">
                                            <select
                                                th:field="*{baseShiftMstMntBeanList[__${employeeStat.index}__].shiftIdOnTuesday}"style="width: 75%; height: 20px; margin-bottom: 3px;">
                                                <option th:each="entry : ${baseShiftMstMntForm.shiftCmbMap}"
                                                    th:value="${entry.key}"
                                                    th:selected="${employee.shiftIdOnTuesday == entry.key}"
                                                    th:text="${entry.value}">
                                                </option>
                                            </select>
                                        </td>

                                        <!-- 水曜日のシフト -->
                                        <td width="50px" align="center">
                                            <select
                                                th:field="*{baseShiftMstMntBeanList[__${employeeStat.index}__].shiftIdOnWednesday}"style="width: 75%; height: 20px; margin-bottom: 3px;">
                                                <option th:each="entry : ${baseShiftMstMntForm.shiftCmbMap}"
                                                    th:value="${entry.key}"
                                                    th:selected="${employee.shiftIdOnWednesday == entry.key}"
                                                    th:text="${entry.value}">
                                                </option>
                                            </select>
                                        </td>

                                        <!-- 木曜日のシフト -->
                                        <td width="50px" align="center">
                                            <select
                                                th:field="*{baseShiftMstMntBeanList[__${employeeStat.index}__].shiftIdOnThursday}"style="width: 75%; height: 20px; margin-bottom: 3px;">
                                                <option th:each="entry : ${baseShiftMstMntForm.shiftCmbMap}"
                                                    th:value="${entry.key}"
                                                    th:selected="${employee.shiftIdOnThursday == entry.key}"
                                                    th:text="${entry.value}">
                                                </option>
                                            </select>
                                        </td>

                                        <!-- 金曜日のシフト -->
                                        <td width="50px" align="center">
                                            <select
                                                th:field="*{baseShiftMstMntBeanList[__${employeeStat.index}__].shiftIdOnFriday}"style="width: 75%; height: 20px; margin-bottom: 3px;">
                                                <option th:each="entry : ${baseShiftMstMntForm.shiftCmbMap}"
                                                    th:value="${entry.key}"
                                                    th:selected="${employee.shiftIdOnFriday == entry.key}"
                                                    th:text="${entry.value}">
                                                </option>
                                            </select>
                                        </td>

                                        <!-- 土曜日のシフト -->
                                        <td width="50px" align="center">
                                            <select
                                                th:field="*{baseShiftMstMntBeanList[__${employeeStat.index}__].shiftIdOnSaturday}"style="width: 75%; height: 20px; margin-bottom: 3px;">
                                                <option th:each="entry : ${baseShiftMstMntForm.shiftCmbMap}"
                                                    th:value="${entry.key}"
                                                    th:selected="${employee.shiftIdOnSaturday == entry.key}"
                                                    th:text="${entry.value}">
                                                </option>
                                            </select>
                                        </td>

                                        <!-- 日曜日のシフト -->
                                        <td width="50px" align="center">
                                            <select
                                                th:field="*{baseShiftMstMntBeanList[__${employeeStat.index}__].shiftIdOnSunday}"style="width: 75%; height: 20px; margin-bottom: 3px;">
                                                <option th:each="entry : ${baseShiftMstMntForm.shiftCmbMap}"
                                                    th:value="${entry.key}"
                                                    th:selected="${employee.shiftIdOnSunday == entry.key}"
                                                    th:text="${entry.value}">
                                                </option>
                                            </select>
                                        </td>
                                    </tr>
                                </th:block>
                        	</table>
                           </form>
                           
                    </div>
                    <div class="tableFooter">
                           <input value="登録" type="submit" class="smallButton" form="registForm" /> 
                           </div>
					</div>
                </div>
            </div>
        </div>
        <div id="footer">
            <table style="width:100%;"><!-- style="width:100%;追加　瀬口 -->
                <tr>
                    <td id="footLeft">
                        　
                    </td>
                    <td id="footCenter">
                        　
                    </td>
                    <td id="footRight">
                        
                    </td>
                </tr>
            </table>
        </div>

    </div>

</body>

</html>